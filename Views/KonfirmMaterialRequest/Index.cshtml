@{
    ViewData["PanelTitle"] = "Material Request List";
}

<div class="card">
    <div class="card-body">
        <table class="table table-bordered table-hover" id="materialRequestTable">
            <thead>
                <tr>
                    <th scope="col">No</th>
                    <th scope="col">Requested Date</th>
                    <th scope="col">Requested By</th>
                    <th scope="col">Material Name</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Weight</th>
                    <th scope="col">Unit</th>
                    <th scope="col">Remark</th>
                    <th scope="col">Status</th>
                    <th scope="col">Action</th>
                </tr>
            </thead>
            <tbody>
                @if (Model != null)
                {
                    foreach (var request in Model)
                    {
                        var status = request.Status switch
                        {
                            "WaitingApproval" => "Waiting",
                            "Approved" => "Waiting for Store Manager's Validation",
                            _ => request.Status
                        };

                        <tr>
                            <td>@request.No</td>
                            <td>@request.RequestedDate</td>
                            <td>@request.RequestedBy</td>
                            <td>@request.MaterialName</td>
                            <td>@request.Quantity</td>
                            <td>@request.Weight</td>
                            <td>@request.Unit</td>
                            <td>@request.Remark</td>
                            <td>@request.Status</td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn btn-success btn-sm" onclick="approveRequest(@request.No)">Approve</button>
                                    <button class="btn btn-danger btn-sm" onclick="rejectRequest(@request.No)">Reject</button>
                                </div>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    function approveRequest(No) {
        alert('Request ' + No + ' approved.');
    }
    function rejectRequest(No) {
        alert('Request ' + No + ' rejected.');
    }
</script>

<style>
    .action-buttons {
        display: flex;
        gap: 10px;
        justify-content: flex-start; 
    }
</style>
